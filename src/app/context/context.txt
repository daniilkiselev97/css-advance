Контекст форматирования (англ. Formatting Context) — это концепция в CSS, которая определяет, как элементы располагаются на странице и как они взаимодействуют друг с другом в процессе построения и отображения. Разные типы контекстов форматирования влияют на размещение блоков, строчных элементов, а также на поведение таких свойств, как float, clear и position.

Контексты форматирования тесно связаны с позиционированием элементов и их взаимодействием внутри документа. Понимание этих контекстов помогает разобраться, как браузеры решают, где разместить элемент, как с ним будут взаимодействовать соседние элементы, и как будет происходить поток документа.

Основные типы контекстов форматирования:
- Блочный контекст форматирования (Block Formatting Context, BFC).
- Строчный контекст форматирования (Inline Formatting Context, IFC).

Блочный контекст форматирования (BFC) - это отдельная область на странице, в которой элементы располагаются как блоки, один под другим, в вертикальном направлении. Он создаётся определёнными CSS-правилами или условиями, и элементы внутри этого контекста не влияют на внешние элементы (и наоборот).

Когда создается BFC:

Элементы с float: left или float: right.
Элементы с position: absolute или position: fixed.
Элементы с overflow, отличным от visible (например, hidden, scroll или auto).
Элементы с display: flow-root.
Блочные элементы с display: block, table, flex, или grid.

Важные характеристики BFC:
- Элементы внутри BFC не могут пересекаться с элементами вне его (например, обтекание float).
- Высота блока определяется содержимым, и элементы внутри него не могут вылезти за его пределы.


 Строчный контекст форматирования (IFC)
 Строчный контекст форматирования формируется внутри блочных элементов и содержит только строчные (inline) элементы, такие как текст, ссылки, изображения, встроенные элементы. Элементы в IFC располагаются по горизонтали, вдоль строки.

 Когда создается IFC:
- Когда блоковый элемент содержит только строчные элементы (например, <span>, текст, <a> и т.д.).
- Блок, который содержит текст или другие строчные элементы, начинает создавать строчный контекст форматирования.
Важные характеристики IFC:

Внутри IFC элементы располагаются по горизонтали, создавая строки, которые при заполнении по ширине переносятся на следующую строку.
Высота строки зависит от высоты содержимого (шрифта или изображений).
Свойство vertical-align управляет выравниванием элементов внутри строчного контекста.

Контексты форматирования определяют, как элементы размещаются на странице и как они взаимодействуют с другими элементами. Позиционирование (absolute, fixed, relative) влияет на контекст форматирования, изменяя поток документа и способ взаимодействия элементов между собой.